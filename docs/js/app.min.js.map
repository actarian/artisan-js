{"version":3,"sources":["docs/js/app.js"],"names":["angular","module","service","WebApi","$filter","this","menu","get","run","$rootScope","controller","$scope","$timeout","$promise","Nav","Api","onLink","item","link","url","console","log","$nav","level","onNav","silent","nav","then","response","setItems","data","error"],"mappings":"CAEC,WACG,YAEUA,SAAQC,OAAO,OAAQ,UAAW,qBAK/C,WACG,YAEUD,SAAQC,OAAO,OAErBC,QAAQ,OAAQ,SAAU,UAAW,SAASC,EAAQC,GAEtD,GAAIF,GAAUC,CAEdE,MAAKC,KAAO,WAER,MAAOJ,GAAQK,IAAI,mBAmC9B,WACG,YAEUP,SAAQC,OAAO,UAyF5B,WACG,YAEUD,SAAQC,OAAO,UA2B5B,WACG,YAEUD,SAAQC,OAAO,OAErBO,KAAK,aAAc,SAASC,UAOnC,WACG,YAEUT,SAAQC,OAAO,OAErBS,WAAW,YAAa,SAAU,WAAY,WAAY,MAAO,MAAO,SAASC,EAAQC,EAAUC,EAAUC,EAAKC,GAgBlH,QAASC,GAAOC,GACZ,GAAIC,GAAOD,EAAKE,GAEhB,OADAC,SAAQC,IAAI,kBAAmBJ,EAAKK,KAAKC,MAAOL,GACzCA,EAGX,QAASM,GAAMP,GAGX,MAFAG,SAAQC,IAAI,iBAAkBJ,EAAKK,KAAKC,MAAON,EAAKK,KAAKJ,MACzDJ,EAAIW,OAAOR,EAAKK,KAAKJ,OACd,EAvBX,GAAIQ,GAAM,GAAIZ,IACVE,OAAQA,EACRQ,MAAOA,GAGXT,GAAIT,OAAOqB,KAAK,SAASC,GAErBF,EAAIG,SAASD,EAASE,OAEvB,SAASC,GACRX,QAAQC,IAAI,iBAAkBU,KA+BlCpB,EAAOe,IAAMA","file":"app.min.js","sourcesContent":["/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app', ['artisan', 'jsonFormatter']);\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    app.service('Api', ['WebApi', '$filter', function(WebApi, $filter) {\n\n        var service = WebApi;\n\n        this.menu = function() {\n            // var args = Array.prototype.slice.call(arguments);\n            return service.get('/menu.js'); // promise\n        };\n\n    }]);\n\n    /*\n    app.provider('$api', [function $apiProvider() {\n\n        var routes = {};\n\n        this.routes = routes;\n        this.when = when;\n\n        function when(path, callback) {\n            var api = this;\n            routes[path] = callback;\n            return api;\n        }\n\n        this.$get = ['$q', '$timeout', function $apiFactory($q, $timeout) {\n\n            var api = {};\n\n            angular.extend(api, routes);\n\n            return api;\n\n        }];\n\n    }]);\n    */\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    /*\n    // --- app ---\n    var ENV = {\n        lang: 'en',\n    };\n    if (window.ENV) {\n        angular.extend(ENV, window.ENV);\n    }\n    app.config('ENV', ENV);\n    */\n\n    /*\n    // --- http ---\n    app.config(['$httpProvider', 'ENV', function($httpProvider, ENV) {\n        // $httpProvider.defaults.headers.common[\"Accept-Language\"] = ENV.lang;\n        // $httpProvider.defaults.withCredentials = true;\n        // $httpProvider.interceptors.push('AuthInterceptorService');\n    }]);\n    */\n\n    /*\n    // --- location ---\n    app.config(['$locationProvider', function($locationProvider) {\n        // HTML5 MODE url writing method (false: #/anchor/use, true: /html5/url/use)\n        $locationProvider.html5Mode(false);\n        // $locationProvider.hashPrefix(''); // default '!' hashbang    \n    }]);\n    */\n\n    // --- route ---\n    /*\n    app.config(['$routeProvider', function($routeProvider) {\n\n        $routeProvider.when('/', {\n            templateUrl: function() {\n                return 'views/nav.html';\n            },\n            controller: 'NavCtrl',\n\n        }).when('/forms', {\n            templateUrl: function() {\n                return 'views/form';\n            },\n            controller: 'FormCtrl',\n            // resolve: {\n            //    user: ['Users', function(Users) {\n            //        return Users.isAuthorizedOrGoTo('/home');\n            //    }]\n            // },\n\n        });\n\n        $routeProvider.otherwise('/');\n\n    }]);\n    */\n\n    /*\n    // --- api ---\n    app.config(['$apiProvider', function($apiProvider) {\n\n        $apiProvider.routes({\n            menu: {\n                url: '/menu.js',\n                method: 'get',\n            },\n        });\n\n    }]);\n    */\n\n    /*\n    // --- modals ---\n    app.config(['$modalProvider', function($modalProvider) {\n        $modalProvider.when('authModal', {\n            title: 'Authenticate',\n            templateUrl: 'views/auth-modal.html',\n            controller: 'RootCtrl',\n            customClass: 'modal-sm',\n\n        });\n    }]);\n    */\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    /*\n    app.config(['$locationProvider', function($locationProvider) {\n\n        // HTML5 MODE url writing method (false: #/anchor/use, true: /html5/url/use)\n        $locationProvider.html5Mode(false);\n        // $locationProvider.hashPrefix(''); // default '!' hashbang\n\n    }]);\n\n    app.config(['$modalProvider', function($modalProvider) {\n\n        $modalProvider.when('authModal', {\n            title: 'Authenticate',\n            templateUrl: 'views/auth-modal.html',\n            controller: 'RootCtrl',\n            customClass: 'modal-sm',\n\n        });\n\n    }]);\n    */\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    app.run(['$rootScope', function($rootScope) {\n\n    }]);\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    app.controller('RootCtrl', ['$scope', '$timeout', '$promise', 'Nav', 'Api', function($scope, $timeout, $promise, Nav, Api) {\n\n        var nav = new Nav({\n            onLink: onLink,\n            onNav: onNav,\n        });\n\n        Api.menu().then(function(response) {\n            // $scope.items = response.data;\n            nav.setItems(response.data);\n\n        }, function(error) {\n            console.log('RootCtrl.error', error);\n\n        });\n\n        function onLink(item) {\n            var link = item.url;\n            console.log('RootCtrl.onLink', item.$nav.level, link);\n            return link;\n        }\n\n        function onNav(item) {\n            console.log('RootCtrl.onNav', item.$nav.level, item.$nav.link);\n            Nav.silent(item.$nav.link);\n            return false; // returning false disable default link behaviour;\n        }\n\n        function onNavPromise(item) {\n            $scope.selected = item;\n            return $promise(function(promise) {\n                console.log('RootCtrl.onNavPromise', item.$nav.level, item.$nav.link);\n                $timeout(function() {\n                    if (item.items) {\n                        item.$nav.addItems({\n                            name: \"Item\",\n                        });\n                    }\n                    promise.resolve();\n                });\n            }); // a promise always disable default link behaviour;\n        }\n\n        $scope.nav = nav;\n\n    }]);\n\n}());"]}