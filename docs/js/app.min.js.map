{"version":3,"sources":["docs/js/app.js"],"names":["angular","module","service","WebApi","$promise","$location","$routeParams","environment","webapi","menu","get","doc","promise","then","response","currentUrl","path","forEach","data","item","console","log","url","slug","extend","language","params","resolve","error","reject","this","app","constant","window","config","$locationProvider","html5Mode","$httpProvider","defaults","headers","common","lang","$routeProvider","when","templateUrl","controller","otherwise","run","$rootScope","$scope","State","state","state2","$timeout","Nav","Api","onLink","link","$nav","level","onNav","nav","setItems"],"mappings":"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","file":"app.min.js","sourcesContent":["/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app', ['artisan', 'jsonFormatter']);\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    app.service('Api', ['WebApi', '$promise', '$location', '$routeParams', 'environment', function(WebApi, $promise, $location, $routeParams, environment) {\n\n        var webapi = WebApi;\n\n        var service = {\n            menu: function() {\n                return webapi.get('/menu.js'); // promise\n            },\n            doc: function() {\n                return $promise(function(promise) {\n                    service.menu().then(function(response) {\n                        var doc = null;\n                        var currentUrl = $location.path();\n                        angular.forEach(response.data, function(item) {\n                            console.log(item.url, $routeParams.slug);\n                            if (item.url === currentUrl) {\n                                doc = angular.extend({\n                                    language: environment.language,\n                                    url: currentUrl,\n                                    params: $routeParams,\n                                }, item);\n                            }\n                        });\n                        promise.resolve(doc);\n                    }, function(error) {\n                        promise.reject(error);\n                    });\n                });\n            }\n        };\n\n        angular.extend(this, service);\n\n        // var args = Array.prototype.slice.call(arguments);\n\n    }]);\n\n    /*\n    app.provider('$api', [function $apiProvider() {\n\n        var routes = {};\n\n        this.routes = routes;\n        this.when = when;\n\n        function when(path, callback) {\n            var api = this;\n            routes[path] = callback;\n            return api;\n        }\n\n        this.$get = ['$q', '$timeout', function $apiFactory($q, $timeout) {\n\n            var api = {};\n\n            angular.extend(api, routes);\n\n            return api;\n\n        }];\n\n    }]);\n    */\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    app.constant('environment', getEnvironment());\n\n    app.config(['$locationProvider', function($locationProvider) {\n        // HTML5 MODE url writing method (false: #/anchor/use, true: /html5/url/use)\n        $locationProvider.html5Mode(false);\n        // $locationProvider.hashPrefix(''); // default '!' hashbang    \n    }]);\n\n    app.config(['$httpProvider', 'environment', function($httpProvider, environment) {\n        $httpProvider.defaults.headers.common[\"Accept-Language\"] = environment.lang;\n        // $httpProvider.defaults.withCredentials = true;\n        // $httpProvider.interceptors.push('AuthInterceptorService');\n    }]);\n\n    function getEnvironment() {\n        var environment = {\n            language: 'en',\n        };\n        if (window.environment) {\n            angular.extend(environment, window.environment);\n        }\n        return environment;\n    }\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    app.config(['$routeProvider', function($routeProvider) {\n\n        $routeProvider.when('/', {\n            templateUrl: function() {\n                return 'views/home.html';\n            },\n            controller: 'HomeCtrl',\n\n        }).when('/contact-us', {\n            templateUrl: function() {\n                return 'views/contact-us.html';\n            },\n            controller: 'ContactUsCtrl',\n            // resolve: {\n            //    user: ['Users', function(Users) {\n            //        return Users.isAuthorizedOrGoTo('/home');\n            //    }]\n            // },\n\n        }).when('/works/:slug', {\n            templateUrl: function() {\n                return 'views/slug.html';\n            },\n            controller: 'SlugCtrl',\n\n        }).when('/works/visuals/:slug', {\n            templateUrl: function() {\n                return 'views/slug.html';\n            },\n            controller: 'SlugCtrl',\n\n        }).when('/works/production/:slug', {\n            templateUrl: function() {\n                return 'views/slug.html';\n            },\n            controller: 'SlugCtrl',\n\n        }).when('/experiences/:slug', {\n            templateUrl: function() {\n                return 'views/slug.html';\n            },\n            controller: 'SlugCtrl',\n\n        }).when('/:slug', {\n            templateUrl: function() {\n                return 'views/slug.html';\n            },\n            controller: 'SlugCtrl',\n\n        });\n\n        $routeProvider.otherwise('/');\n\n    }]);\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    app.run(['$rootScope', function($rootScope) {\n\n    }]);\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    app.controller('ContactUsCtrl', ['$scope', 'State', function($scope, State) {\n\n        var state = new State();\n        var state2 = new State();\n\n        $scope.state = state;\n        $scope.state2 = state2;\n\n    }]);\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    app.controller('HomeCtrl', ['$scope', function($scope) {\n\n\n\n    }]);\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    app.controller('RootCtrl', ['$scope', '$timeout', '$promise', 'Nav', 'Api',\n        function($scope, $timeout, $promise, Nav, Api) {\n\n            var nav = new Nav({\n                onLink: onLink,\n                onNav: onNav,\n            });\n\n            Api.menu().then(function(response) {\n                // $scope.items = response.data;\n                nav.setItems(response.data);\n\n            }, function(error) {\n                console.log('RootCtrl.error', error);\n\n            });\n\n            function onLink(item) {\n                var link = item.url;\n                console.log('RootCtrl.onLink', item.$nav.level, link);\n                return link;\n            }\n\n            function onNav(item) {\n                console.log('RootCtrl.onNav', item.$nav.level, item.$nav.link);\n                Nav.path(item.$nav.link);\n                return false; // returning false disable default link behaviour;\n            }\n\n            function onNavPromise(item) {\n                $scope.selected = item;\n                return $promise(function(promise) {\n                    console.log('RootCtrl.onNavPromise', item.$nav.level, item.$nav.link);\n                    $timeout(function() {\n                        if (item.items) {\n                            item.$nav.addItems({\n                                name: \"Item\",\n                            });\n                        }\n                        promise.resolve();\n                    });\n                }); // a promise always disable default link behaviour;\n            }\n\n            $scope.nav = nav;\n\n        }\n    ]);\n\n}());\n/* global angular */\n\n(function() {\n    \"use strict\";\n\n    var app = angular.module('app');\n\n    app.controller('SlugCtrl', ['$scope', 'Api', function($scope, Api) {\n\n        Api.doc().then(function(doc) {\n            $scope.doc = doc;\n\n        }, function(error) {\n\n        });\n\n    }]);\n\n}());"]}