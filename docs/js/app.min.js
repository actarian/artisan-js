!function(){"use strict";angular.module("app",["ngSanitize","artisan","jsonFormatter"])}(),function(){"use strict";angular.module("app").service("Api",["Http",function(e){var t={navs:{main:function(){return e.get("/navs/main.json")}},docs:{id:function(t){return e.get("/docs/"+t+".json")},path:function(t){return t=t.split("/").join("-"),e.get("/docs/"+t+".json")}},maps:{markers:function(){return e.get("/maps/markers.json")}}};angular.extend(this,t)}])}(),function(){"use strict";angular.module("app").config(["$routeProvider",function(e){e.when("/",{templateUrl:function(){return"views/slug.html"},controller:"HomeCtrl"}).when("/test",{templateUrl:function(){return"views/test.html"},controller:"TestCtrl"}).when("/contact-us",{templateUrl:function(){return"views/contact-us.html"},controller:"ContactUsCtrl"}).when("/works/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/works/visuals/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/works/production/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/experiences/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}),e.otherwise("/")}])}(),function(){"use strict";angular.module("app").run(["$rootScope","Router","Trust",function(e,t,n){e.router=t,e.trust=n}])}(),function(){"use strict";angular.module("app").directive("todoItem",["$templateCache","$parse","$timeout","$filter","Animate","DateTime","LocalStorage",function(e,t,n,r,o,a,i){return{priority:1001,restrict:"A",templateUrl:function(t,n){var r=n.template;return r||(r="partials/todolist",e.get(r)||e.put(r,'<div><json-formatter json="item"></json-formatter></div>')),r},link:function(e,t,l,u,c){function s(){n(function(){h()})}function p(){b&&b.playing&&n(function(){w()})}function m(){b&&(b.playing?p():s())}function d(e){m()}function g(e,t){j!==t&&p()}function f(){angular.element(C).off("click",d)}function y(e){e=Math.max(0,Math.min(1,e));var t=parseInt(I.getAttribute("r")),n=2*Math.PI*t,r=n*(1-e);I.style.strokeDasharray=n+"%",I.style.strokeDashoffset=r+"%"}function v(){if(b){b.playing?b.elapsedTime=b.recordedTime+b.accumulatedTime+(new Date-b.startTime)*$:b.elapsedTime=b.recordedTime+b.accumulatedTime;var e=r("customDigitalTimer")(b.elapsedTime);if(U.innerHTML!==e){U.innerHTML=e;var t=b.totalTime;y(b.elapsedTime/t)}}}function T(){if(j=e.item){b=j.player;var t=i.get("players")||{},n=t[j.key];n&&(b.accumulatedTime=parseInt(n.accumulatedTime),n.startTime&&(b.startTime=new Date(n.startTime),b.playing=!0,E.play(),e.$root.$broadcast("onTodoPlayer",j)))}}function h(){if(j=e.item){b=j.player,b.startTime=new Date,b.playing=!0;var t=i.get("players")||{},n={startTime:b.startTime.getTime(),accumulatedTime:b.accumulatedTime};t[j.key]=n,i.set("players",t),E.play(),e.$root.$broadcast("onTodoPlayer",j)}}function w(){if(j=e.item){b=j.player,b.accumulatedTime=b.elapsedTime-b.recordedTime,b.elapsedTime=0,b.startTime=null,b.playing=!1;var t=i.get("players")||{},n={accumulatedTime:b.accumulatedTime};t[j.key]=n,i.set("players",t),E.pause(),e.$root.$broadcast("onTodoPause",j)}}function k(){if(j=e.item){b=j.player;var t=a.timeToQuarterHour(b.accumulatedTime);b.accumulatedTime-=a.hourToTime(t),b.recordedTime=j.recordedHours*a.HOUR;var n=i.get("players")||{},r=n[j.key];r?r.accumulatedTime=b.accumulatedTime:r={accumulatedTime:b.accumulatedTime},r.startTime?(b.startTime=new Date(r.startTime),b.playing=!0,E.play()):(b.playing=!1,E.pause()),n[j.key]=r,i.set("players",n)}}function S(){(j=e.item)&&(b=j.player,b.accumulatedTime=0,b.elapsedTime=0,b.totalTime=j.hours*a.HOUR,b.recordedTime=j.recordedHours*a.HOUR,b.toggle=m,b.update=k)}function M(){S(),T(),v()}var $=1,j=e.item;if(!j)return void console.log("todoItem.error","item undefined");var b,C=t[0].querySelector(l.target),I=t[0].querySelector("circle.progress"),U=t[0].querySelector(".elapsed"),E=new o(v);e.$on("onTodoPlayer",g),e.$on("$destroy",function(){f()}),function(){angular.element(C).on("click",d)}(),e.$watch("item",M)}}}])}(),function(){"use strict";angular.module("app").controller("ContactUsCtrl",["$scope","State","View","Api",function(e,t,n,r){var o=new t,a=new t,i={},l={},u={state:o,state2:a,googlemaps:i,mapbox:l};angular.extend(e,u),n.current().then(function(t){e.view=t,o.ready()},function(e){o.error(e)}),r.maps.markers().then(function(e){i.setMarkers(e),l.setMarkers(e)})}])}(),function(){"use strict";angular.module("app").controller("HomeCtrl",["$scope","State","View","Range",function(e,t,n,r){var o=new t;n.current().then(function(t){e.view=t,o.ready()},function(e){o.error(e)}),e.state=o}])}(),function(){"use strict";angular.module("app").controller("RootCtrl",["$scope","$timeout","$promise","Nav","Api","Range","Scrollable","AuthService","FacebookService","GoogleService",function(e,t,n,r,o,a,i,l,u,c){function s(e){return e.path}function p(e){return r.path(e.$nav.path),!1}function m(){u.getMe().then(function(e){console.log("FacebookService.getMe",e)},function(e){console.log("FacebookService.getMe.error",e)})}function d(){c.getMe().then(function(e){console.log("GoogleService.getMe",e)},function(e){console.log("GoogleService.getMe.error",e)})}var g=new r({onPath:s,onNav:p});o.navs.main().then(function(e){g.setItems(e)},function(e){console.log("RootCtrl.error",e)}),e.nav=g;var f=new Array(20).fill(null).map(function(e,t){return{id:t+1,name:"Item",items:new Array(3).fill(null).map(function(e,t){return{id:t+1,name:"Item",items:new Array(2).fill(null).map(function(e,t){return{id:t+1,name:"Item"}})}})}});e.items=f;var y=new i;e.scrollable=y,e.getFacebookMe=m,e.getGoogleMe=d;var v=new a({type:a.types.YEAR}),T=new a({type:a.types.SEMESTER}),h=new a({type:a.types.TRIMESTER}),w=new a({type:a.types.QUARTER}),k=new a({type:a.types.MONTH}),S=new a({type:a.types.WEEK}),M=new a({type:a.types.DAY}),$={year:v,semester:T,trimester:h,quarter:w,month:k,week:S,day:M};e.ranges=$}])}(),function(){"use strict";angular.module("app").controller("SlugCtrl",["$scope","State","View",function(e,t,n){var r=new t;n.current().then(function(t){e.view=t,r.ready()},function(e){r.error(e)}),e.state=r}])}(),function(){"use strict";angular.module("app").controller("TestCtrl",["$scope","$filter","$http","State","Hash","DateTime","Range","LocalStorage",function(e,t,n,r,o,a,i,l){function u(){var e=s.slots,n=new o("key");angular.forEach(e,function(e){var r=e.day,a=t("isoWeek")(r.date,1),i=[a,r.activityId,r.taskId||0,r.locked?r.key:0],l=i.join("-"),u=n.once({key:l,customer:e.customer,project:e.project,activity:e.activity,task:e.task,hours:0,recordedHours:0,slots:new o("id"),player:{}});r.locked&&(u.day=r),u.slots.add(r),u.hours+=r.hours}),n.forward(),s.todos=n}var c=new r,s={},p={state:c,sources:s};angular.extend(e,p),n.get("api/test.json").then(function(e){var t=e.data;s.slots=t,u(),c.ready()}),e.$on("onTodoPause",function(e,t){var n=a.timeToQuarterHour(t.player.accumulatedTime);t.recordedHours+=n,t.player.update()});var m=new i({type:i.types.SEMESTER});console.log(m.toString())}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("environment",{http:{interceptors:[],withCredentials:!1},language:{code:"en",culture:"en_US",iso:"ENU",name:"English"},location:{hash:"!",html5:!1},plugins:{facebook:{appId:340008479796111,fields:"id,name,first_name,last_name,email,gender,picture,cover,link",scope:"public_profile, email",version:"v2.10"},google:{apiKey:"AIzaSyCn6O-j_8pipy-ErGxg4bM1juGesiyM28U",clientId:"1063539520533-7308vqmt92em6dv1v5q52fq2or36jk95.apps.googleusercontent.com"},googlemaps:{apiKey:"AIzaSyCn6O-j_8pipy-ErGxg4bM1juGesiyM28U",styles:"/googlemaps/applemapesque.json",options:{center:{lat:43.9023386,lng:12.8505094},zoom:4}},mapbox:{accessToken:"pk.eyJ1IjoiYWN0YXJpYW4iLCJhIjoiY2lqNWU3MnBzMDAyZndnbTM1cjMyd2N2MiJ9.CbuEGSvOAfIYggQv854pRQ",options:{center:[12.8505094,43.9023386],zoom:4},style:"mapbox://styles/actarian/cja82nadj07sn2rmty6n1n5pk",version:"v0.42.0"}}})}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("local",{paths:{api:"http://localhost:6001/api",app:"http://localhost:6001"},plugins:{facebook:{appId:340008479796111}}})}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("production",{paths:{api:"https://actarian.github.io/artisan/api",app:"https://actarian.github.io/artisan"},plugins:{facebook:{appId:0x8e099954c588}}})}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("stage",{})}])}();
//# sourceMappingURL=app.min.js.map
