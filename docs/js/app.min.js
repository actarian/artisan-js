!function(){"use strict";angular.module("app",["ngSanitize","artisan","jsonFormatter"])}(),function(){"use strict";angular.module("app").service("Api",["Http","Bearer",function(t,e){var n={navs:{main:function(){return t.get("/navs/main.json")}},docs:{id:function(e){return t.get("/docs/"+e+".json")},path:function(e){return e=e.split("/").join("-"),t.get("/docs/"+e+".json")}},maps:{markers:function(){return t.get("/maps/markers.json")}}};angular.extend(this,n)}])}(),function(){"use strict";angular.module("app").config(["$routeProvider",function(e){e.when("/",{templateUrl:function(){return"views/slug.html"},controller:"HomeCtrl"}).when("/test",{templateUrl:function(){return"views/test.html"},controller:"TestCtrl"}).when("/contact-us",{templateUrl:function(){return"views/contact-us.html"},controller:"ContactUsCtrl"}).when("/works/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/works/visuals/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/works/production/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/experiences/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}),e.otherwise("/")}])}(),function(){"use strict";angular.module("app").run(["$rootScope","Router","Trust","Bearer","FacebookService","GoogleService",function(e,t,n,r,o,a){e.router=t,e.trust=n,e.accessToken=r.get(),console.log("app.run accessToken",e.accessToken),o.require(),a.require()}])}(),function(){"use strict";angular.module("app").directive("todoItem",["$templateCache","$parse","$timeout","$filter","Animate","DateTime","LocalStorage",function(r,e,h,T,w,k,S){return{priority:1001,restrict:"A",templateUrl:function(e,t){var n=t.template;return n||(n="partials/todolist",r.get(n)||r.put(n,'<div><json-formatter json="item"></json-formatter></div>')),n},link:function(r,e,t,n,o){var a=1,i=r.item;if(i){var l,u=e[0].querySelector(t.target),c=e[0].querySelector("circle.progress"),s=e[0].querySelector(".elapsed"),m=new w(v);r.$on("onTodoPlayer",function(e,t){i!==t&&d()}),r.$on("$destroy",function(){angular.element(u).off("click",f)}),angular.element(u).on("click",f),r.$watch("item",function(){(i=r.item)&&((l=i.player).accumulatedTime=0,l.elapsedTime=0,l.totalTime=i.hours*k.HOUR,l.recordedTime=i.recordedHours*k.HOUR,l.toggle=g,l.update=y),function(){if(i=r.item){l=i.player;var e=(S.get("players")||{})[i.key];e&&(l.accumulatedTime=parseInt(e.accumulatedTime),e.startTime&&(l.startTime=new Date(e.startTime),l.playing=!0,m.play(),r.$root.$broadcast("onTodoPlayer",i)))}}(),v()})}else console.log("todoItem.error","item undefined");function p(){h(function(){!function(){if(i=r.item){(l=i.player).startTime=new Date,l.playing=!0;var e=S.get("players")||{},t={startTime:l.startTime.getTime(),accumulatedTime:l.accumulatedTime};e[i.key]=t,S.set("players",e),m.play(),r.$root.$broadcast("onTodoPlayer",i)}}()})}function d(){l&&l.playing&&h(function(){!function(){if(i=r.item){(l=i.player).accumulatedTime=l.elapsedTime-l.recordedTime,l.elapsedTime=0,l.startTime=null,l.playing=!1;var e=S.get("players")||{},t={accumulatedTime:l.accumulatedTime};e[i.key]=t,S.set("players",e),m.pause(),r.$root.$broadcast("onTodoPause",i)}}()})}function g(){l&&(l.playing?d():p())}function f(e){g()}function v(){if(l){l.playing?l.elapsedTime=l.recordedTime+l.accumulatedTime+(new Date-l.startTime)*a:l.elapsedTime=l.recordedTime+l.accumulatedTime;var e=T("customDigitalTimer")(l.elapsedTime);if(s.innerHTML!==e){s.innerHTML=e;var t=l.totalTime;!function(e){e=Math.max(0,Math.min(1,e));var t=parseInt(c.getAttribute("r")),n=2*Math.PI*t,r=n*(1-e);c.style.strokeDasharray=n+"%",c.style.strokeDashoffset=r+"%"}(l.elapsedTime/t)}}}function y(){if(i=r.item){l=i.player;var e=k.timeToQuarterHour(l.accumulatedTime);l.accumulatedTime-=k.hourToTime(e),l.recordedTime=i.recordedHours*k.HOUR;var t=S.get("players")||{},n=t[i.key];n?n.accumulatedTime=l.accumulatedTime:n={accumulatedTime:l.accumulatedTime},n.startTime?(l.startTime=new Date(n.startTime),l.playing=!0,m.play()):(l.playing=!1,m.pause()),t[i.key]=n,S.set("players",t)}}}}}])}(),function(){"use strict";angular.module("app").controller("ContactUsCtrl",["$scope","State","View","Api",function(t,e,n,r){var o=new e,a=new e,i={},l={},u={state:o,state2:a,googlemaps:i,mapbox:l};angular.extend(t,u),n.current().then(function(e){t.view=e,o.ready()},function(e){o.error(e)}),r.maps.markers().then(function(e){i.setMarkers(e),l.setMarkers(e)})}])}(),function(){"use strict";angular.module("app").controller("HomeCtrl",["$scope","State","View","Range",function(t,e,n,r){var o=new e;n.current().then(function(e){t.view=e,o.ready()},function(e){o.error(e)}),t.state=o}])}(),function(){"use strict";angular.module("app").controller("RootCtrl",["$scope","$timeout","$promise","Nav","Api","Range","Scrollable","AuthService","FacebookService","GoogleService",function(e,t,n,r,o,a,i,l,u,c){var s=new r({onPath:function(e){return e.path},onNav:function(e){return r.path(e.$nav.path),!1}});o.navs.main().then(function(e){s.setItems(e)},function(e){console.log("RootCtrl.error",e)}),e.nav=s;var m=new Array(20).fill(null).map(function(e,t){return{id:t+1,name:"Item",items:new Array(3).fill(null).map(function(e,t){return{id:t+1,name:"Item",items:new Array(2).fill(null).map(function(e,t){return{id:t+1,name:"Item"}})}})}});e.items=m;var p=new i;e.scrollable=p,e.getFacebookMe=function(){u.getMe().then(function(e){console.log("FacebookService.getMe",e)},function(e){console.log("FacebookService.getMe.error",e)})},e.getGoogleMe=function(){c.getMe().then(function(e){console.log("GoogleService.getMe",e)},function(e){console.log("GoogleService.getMe.error",e)})};var d={year:a.Year(),semester:a.Semester(),trimester:a.Trimester(),quarter:a.Quarter(),month:a.Month(),week:a.Week(),day:a.Day()};e.ranges=d}])}(),function(){"use strict";angular.module("app").controller("SlugCtrl",["$scope","State","View",function(t,e,n){var r=new e;n.current().then(function(e){t.view=e,r.ready()},function(e){r.error(e)}),t.state=r}])}(),function(){"use strict";angular.module("app").controller("TestCtrl",["$scope","$filter","$http","State","Hash","DateTime","Range","LocalStorage",function(e,l,t,n,u,r,o,a){var c=new n,s={},i={state:c,sources:s};angular.extend(e,i),t.get("api/test.json").then(function(e){var t,i,n=e.data;s.slots=n,t=s.slots,i=new u("key"),angular.forEach(t,function(e){var t=e.day,n=l("isoWeek")(t.date,1),r=[n,t.activityId,t.taskId||0,t.locked?t.key:0],o=r.join("-"),a=i.once({key:o,customer:e.customer,project:e.project,activity:e.activity,task:e.task,hours:0,recordedHours:0,slots:new u("id"),player:{}});t.locked&&(a.day=t),a.slots.add(t),a.hours+=t.hours}),i.forward(),s.todos=i,c.ready()}),e.$on("onTodoPause",function(e,t){var n=r.timeToQuarterHour(t.player.accumulatedTime);t.recordedHours+=n,t.player.update()});var m=o.Week();console.log(m.toString());var p=new u("key");m.eachDay(function(e){p.add(e)}),console.log("days",p)}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("environment",{http:{interceptors:[],withCredentials:!1},language:{code:"en",culture:"en_US",iso:"ENU",name:"English"},location:{hash:"!",html5:!1},plugins:{facebook:{appId:340008479796111,fields:"id,name,first_name,last_name,email,gender,picture,cover,link",scope:"public_profile, email",version:"v2.10"},google:{apiKey:"AIzaSyCn6O-j_8pipy-ErGxg4bM1juGesiyM28U",clientId:"1063539520533-7308vqmt92em6dv1v5q52fq2or36jk95.apps.googleusercontent.com"},googlemaps:{apiKey:"AIzaSyCn6O-j_8pipy-ErGxg4bM1juGesiyM28U",styles:"/googlemaps/applemapesque.json",options:{center:{lat:43.9023386,lng:12.8505094},zoom:4}},mapbox:{accessToken:"pk.eyJ1IjoiYWN0YXJpYW4iLCJhIjoiY2lqNWU3MnBzMDAyZndnbTM1cjMyd2N2MiJ9.CbuEGSvOAfIYggQv854pRQ",options:{center:[12.8505094,43.9023386],zoom:4},style:"mapbox://styles/actarian/cja82nadj07sn2rmty6n1n5pk",version:"v0.42.0"}}})}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("local",{paths:{api:"http://localhost:6001/api",app:"http://localhost:6001"},plugins:{facebook:{appId:340008479796111}}})}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("production",{paths:{api:"https://actarian.github.io/artisan/api",app:"https://actarian.github.io/artisan"},plugins:{facebook:{appId:0x8e099954c588}}})}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("stage",{})}])}();
//# sourceMappingURL=app.min.js.map
