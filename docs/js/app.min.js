!function(){"use strict";angular.module("app",["ngSanitize","artisan","jsonFormatter"])}(),function(){"use strict";angular.module("app").service("Api",["Http",function(e){var t={navs:{main:function(){return e.get("/navs/main.json")}},docs:{id:function(t){return e.get("/docs/"+t+".json")},path:function(t){return t=t.split("/").join("-"),e.get("/docs/"+t+".json")}},maps:{markers:function(){return e.get("/maps/markers.json")}}};angular.extend(this,t)}])}(),function(){"use strict";angular.module("app").config(["$routeProvider",function(e){e.when("/",{templateUrl:function(){return"views/slug.html"},controller:"HomeCtrl"}).when("/test",{templateUrl:function(){return"views/test.html"},controller:"TestCtrl"}).when("/contact-us",{templateUrl:function(){return"views/contact-us.html"},controller:"ContactUsCtrl"}).when("/works/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/works/visuals/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/works/production/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/experiences/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}),e.otherwise("/")}])}(),function(){"use strict";angular.module("app").run(["$rootScope","Router","Trust",function(e,t,o){e.router=t,e.trust=o}])}(),function(){"use strict";angular.module("app").directive("todoItem",["$templateCache","$parse","$timeout","$filter","DateTime","Animate","LocalStorage",function(e,t,o,n,r,a,i){return{priority:1001,restrict:"A",templateUrl:function(t,o){var n=o.template;return n||(n="partials/todolist",e.get(n)||e.put(n,'<div><json-formatter json="item"></json-formatter></div>')),n},link:function(e,l,c,u,s){function m(){o(function(){w()})}function p(){b.playing&&o(function(){k()})}function d(){b.playing?p():m()}function g(e){d()}function f(e,t){j!==t&&p()}function y(){angular.element(C).off("click",g)}function v(e){e=Math.max(0,Math.min(1,e));var t=parseInt(U.getAttribute("r")),o=2*Math.PI*t,n=o*(1-e);U.style.strokeDasharray=o+"%",U.style.strokeDashoffset=n+"%"}function h(){if(b){b.playing?b.elapsedTime=b.recordedTime+b.accumulatedTime+(new Date-b.startTime)*$:b.elapsedTime=b.recordedTime+b.accumulatedTime;var e=n("customDigitalTimer")(b.elapsedTime);if(A.innerHTML!==e){A.innerHTML=e;var t=b.totalTime;v(b.elapsedTime/t)}}}function T(){if(j=t(c.todoItem)(e)){b=j.player;var o=i.get("players")||{},n=o[j.key];console.log("StorageGet",n),n&&(b.accumulatedTime=parseInt(n.accumulatedTime),n.startTime&&(b.startTime=new Date(n.startTime),b.playing=!0,H.play(),e.$root.$broadcast("onTodoPlayer",j)))}}function w(){if(j=t(c.todoItem)(e)){b=j.player,b.startTime=new Date,b.playing=!0;var o=i.get("players")||{};o[j.key]={startTime:b.startTime.getTime(),accumulatedTime:b.accumulatedTime},i.set("players",o),H.play(),e.$root.$broadcast("onTodoPlayer",j)}}function k(){if(j=t(c.todoItem)(e)){b=j.player,b.accumulatedTime=b.elapsedTime-b.recordedTime,b.elapsedTime=0,delete b.startTime,b.playing=!1;var o=i.get("players")||{};o[j.key]={accumulatedTime:b.accumulatedTime},i.set("players",o),H.pause(),e.$root.$broadcast("onTodoPause",j)}}function S(){if(j=t(c.todoItem)(e)){b=j.player;var o=r.timeToQuarterHour(b.accumulatedTime);b.accumulatedTime-=r.hourToTime(o),b.recordedTime=j.recordedHours*r.HOUR,b.pow=Math.max(0,Math.min(1,b.recordedTime/b.totalTime));var n=i.get("players")||{};n[j.key]={accumulatedTime:b.accumulatedTime},i.set("players",n),console.log("StorageUpdate",j.key,o,b.accumulatedTime)}}function M(e){var t=60*e*60*1e3;b.recordedTime+=t,b.pow=Math.max(0,Math.min(1,b.recordedTime/b.totalTime)),b.elapsedTime-=t}function I(){(j=t(c.todoItem)(e))&&(b=j.player,b.accumulatedTime=0,b.elapsedTime=0,b.totalTime=j.hours*r.HOUR,b.recordedTime=j.recordedHours*r.HOUR,b.pow=Math.max(0,Math.min(1,b.recordedTime/b.totalTime)),b.toggle=d,b.update=S,b.addHours=M,console.log("PlayerInit",j.key))}var $=100,j=t(c.todoItem)(e);if(!j)return void console.log("todoItem.error","item undefined");var b,C=l[0].querySelector(c.target),U=l[0].querySelector("circle.progress"),A=l[0].querySelector(".elapsed"),H=new a(h);e.$on("onTodoPlayer",f),e.$on("$destroy",function(){y()}),function(){angular.element(C).on("click",g)}(),function(){I(),T(),h(),console.log("item",j)}()}}}])}(),function(){"use strict";angular.module("app").controller("ContactUsCtrl",["$scope","State","View","Api",function(e,t,o,n){var r=new t,a=new t,i={},l={},c={state:r,state2:a,googlemaps:i,mapbox:l};angular.extend(e,c),o.current().then(function(t){e.view=t,r.ready()},function(e){r.error(e)}),n.maps.markers().then(function(e){i.setMarkers(e),l.setMarkers(e)})}])}(),function(){"use strict";angular.module("app").controller("HomeCtrl",["$scope","State","View",function(e,t,o){var n=new t;o.current().then(function(t){e.view=t,n.ready()},function(e){n.error(e)}),e.state=n}])}(),function(){"use strict";angular.module("app").controller("RootCtrl",["$scope","$timeout","$promise","Nav","Api","Range","Scrollable","AuthService","FacebookService","GoogleService",function(e,t,o,n,r,a,i,l,c,u){function s(e){return e.path}function m(e){return n.path(e.$nav.path),!1}function p(){c.getMe().then(function(e){console.log("FacebookService.getMe",e)},function(e){console.log("FacebookService.getMe.error",e)})}function d(){u.getMe().then(function(e){console.log("GoogleService.getMe",e)},function(e){console.log("GoogleService.getMe.error",e)})}var g=new n({onPath:s,onNav:m});r.navs.main().then(function(e){g.setItems(e)},function(e){console.log("RootCtrl.error",e)}),e.nav=g;var f=new Array(20).fill(null).map(function(e,t){return{id:t+1,name:"Item",items:new Array(3).fill(null).map(function(e,t){return{id:t+1,name:"Item",items:new Array(2).fill(null).map(function(e,t){return{id:t+1,name:"Item"}})}})}});e.items=f;var y=new i;e.scrollable=y,e.getFacebookMe=p,e.getGoogleMe=d;var v=new a({type:a.types.YEAR}),h=new a({type:a.types.SEMESTER}),T=new a({type:a.types.TRIMESTER}),w=new a({type:a.types.QUARTER}),k=new a({type:a.types.MONTH}),S=new a({type:a.types.WEEK}),M=new a({type:a.types.DAY}),I={year:v,semester:h,trimester:T,quarter:w,month:k,week:S,day:M};angular.forEach(I,function(e){console.log(e.toString())}),e.ranges=I}])}(),function(){"use strict";angular.module("app").controller("SlugCtrl",["$scope","State","View",function(e,t,o){var n=new t;o.current().then(function(t){e.view=t,n.ready()},function(e){n.error(e)}),e.state=n}])}(),function(){"use strict";angular.module("app").controller("TestCtrl",["$scope","$filter","$http","State","Hash","DateTime","Range","LocalStorage",function(e,t,o,n,r,a,i,l){function c(){var e=s.slots,o=new r("key");angular.forEach(e,function(e){var n=e.day,a=t("isoWeek")(n.date,1),i=[a,n.activityId,n.taskId||0,n.locked?n.key:0],l=i.join("-"),c=o.once({key:l,customer:e.customer,project:e.project,activity:e.activity,task:e.task,hours:0,recordedHours:0,slots:new r("id"),player:{}});n.locked&&(c.day=n),c.slots.add(n),c.hours+=n.hours}),o.each(function(e){console.log(e.key,e)}),o.forward(),s.todos=o}var u=new n,s={},m={state:u,sources:s};angular.extend(e,m),o.get("api/test.json").then(function(e){var t=e.data;s.slots=t,c(),u.ready()}),e.$on("onTodoPause",function(e,t){var o=a.timeToQuarterHour(t.player.accumulatedTime);console.log("onTodoPause",o),t.recordedHours+=o,t.player.update()});var p=new i({type:i.types.DAY}),d=new Date;p.isInside(d)&&console.log("inside",p.toString(),d)}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("environment",{http:{interceptors:[],withCredentials:!1},language:{code:"en",culture:"en_US",iso:"ENU",name:"English"},location:{hash:"!",html5:!1},plugins:{facebook:{appId:340008479796111,fields:"id,name,first_name,last_name,email,gender,picture,cover,link",scope:"public_profile, email",version:"v2.10"},google:{apiKey:"AIzaSyCn6O-j_8pipy-ErGxg4bM1juGesiyM28U",clientId:"1063539520533-7308vqmt92em6dv1v5q52fq2or36jk95.apps.googleusercontent.com"},googlemaps:{apiKey:"AIzaSyCn6O-j_8pipy-ErGxg4bM1juGesiyM28U",styles:"/googlemaps/applemapesque.json",options:{center:{lat:43.9023386,lng:12.8505094},zoom:4}},mapbox:{accessToken:"pk.eyJ1IjoiYWN0YXJpYW4iLCJhIjoiY2lqNWU3MnBzMDAyZndnbTM1cjMyd2N2MiJ9.CbuEGSvOAfIYggQv854pRQ",options:{center:[12.8505094,43.9023386],zoom:4},style:"mapbox://styles/actarian/cja82nadj07sn2rmty6n1n5pk",version:"v0.42.0"}}})}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("local",{paths:{api:"http://localhost:6001/api",app:"http://localhost:6001"},plugins:{facebook:{appId:340008479796111}}})}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("production",{paths:{api:"https://actarian.github.io/artisan/api",app:"https://actarian.github.io/artisan"},plugins:{facebook:{appId:0x8e099954c588}}})}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("stage",{})}])}();
//# sourceMappingURL=app.min.js.map
