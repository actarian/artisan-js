!function(){"use strict";angular.module("app",["ngSanitize","artisan","jsonFormatter"])}(),function(){"use strict";angular.module("app").service("Api",["Http","Bearer",function(e,t){var n={navs:{main:function(){return e.get("/navs/main.json")}},docs:{id:function(t){return e.get("/docs/"+t+".json")},path:function(t){return t=t.split("/").join("-"),e.get("/docs/"+t+".json")}},maps:{markers:function(){return e.get("/maps/markers.json")}}};angular.extend(this,n)}])}(),function(){"use strict";angular.module("app").config(["$routeProvider",function(e){e.when("/",{templateUrl:function(){return"views/slug.html"},controller:"HomeCtrl"}).when("/test",{templateUrl:function(){return"views/test.html"},controller:"TestCtrl"}).when("/contact-us",{templateUrl:function(){return"views/contact-us.html"},controller:"ContactUsCtrl"}).when("/works/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/works/visuals/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/works/production/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/experiences/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}).when("/:slug",{templateUrl:function(){return"views/slug.html"},controller:"SlugCtrl"}),e.otherwise("/")}])}(),function(){"use strict";angular.module("app").run(["$rootScope","Router","Trust","Bearer","FacebookService","GoogleService",function(e,t,n,r,o,a){e.router=t,e.trust=n,e.accessToken=r.get(),console.log("app.run accessToken",e.accessToken),o.require(),a.require()}])}(),function(){"use strict";angular.module("app").directive("todoItem",["$templateCache","$parse","$timeout","$filter","Animate","DateTime","LocalStorage",function(e,t,n,r,o,a,i){return{priority:1001,restrict:"A",templateUrl:function(t,n){var r=n.template;return r||(r="partials/todolist",e.get(r)||e.put(r,'<div><json-formatter json="item"></json-formatter></div>')),r},link:function(e,t,l,u,c){function s(){n(function(){T()})}function m(){j&&j.playing&&n(function(){w()})}function p(){j&&(j.playing?m():s())}function d(e){p()}function g(e,t){b!==t&&m()}function f(){angular.element(C).off("click",d)}function v(e){e=Math.max(0,Math.min(1,e));var t=parseInt(I.getAttribute("r")),n=2*Math.PI*t,r=n*(1-e);I.style.strokeDasharray=n+"%",I.style.strokeDashoffset=r+"%"}function y(){if(j){j.playing?j.elapsedTime=j.recordedTime+j.accumulatedTime+(new Date-j.startTime)*M:j.elapsedTime=j.recordedTime+j.accumulatedTime;var e=r("customDigitalTimer")(j.elapsedTime);if(U.innerHTML!==e){U.innerHTML=e;var t=j.totalTime;v(j.elapsedTime/t)}}}function h(){if(b=e.item){j=b.player;var t=i.get("players")||{},n=t[b.key];n&&(j.accumulatedTime=parseInt(n.accumulatedTime),n.startTime&&(j.startTime=new Date(n.startTime),j.playing=!0,H.play(),e.$root.$broadcast("onTodoPlayer",b)))}}function T(){if(b=e.item){j=b.player,j.startTime=new Date,j.playing=!0;var t=i.get("players")||{},n={startTime:j.startTime.getTime(),accumulatedTime:j.accumulatedTime};t[b.key]=n,i.set("players",t),H.play(),e.$root.$broadcast("onTodoPlayer",b)}}function w(){if(b=e.item){j=b.player,j.accumulatedTime=j.elapsedTime-j.recordedTime,j.elapsedTime=0,j.startTime=null,j.playing=!1;var t=i.get("players")||{},n={accumulatedTime:j.accumulatedTime};t[b.key]=n,i.set("players",t),H.pause(),e.$root.$broadcast("onTodoPause",b)}}function k(){if(b=e.item){j=b.player;var t=a.timeToQuarterHour(j.accumulatedTime);j.accumulatedTime-=a.hourToTime(t),j.recordedTime=b.recordedHours*a.HOUR;var n=i.get("players")||{},r=n[b.key];r?r.accumulatedTime=j.accumulatedTime:r={accumulatedTime:j.accumulatedTime},r.startTime?(j.startTime=new Date(r.startTime),j.playing=!0,H.play()):(j.playing=!1,H.pause()),n[b.key]=r,i.set("players",n)}}function S(){(b=e.item)&&(j=b.player,j.accumulatedTime=0,j.elapsedTime=0,j.totalTime=b.hours*a.HOUR,j.recordedTime=b.recordedHours*a.HOUR,j.toggle=p,j.update=k)}function $(){S(),h(),y()}var M=1,b=e.item;if(!b)return void console.log("todoItem.error","item undefined");var j,C=t[0].querySelector(l.target),I=t[0].querySelector("circle.progress"),U=t[0].querySelector(".elapsed"),H=new o(y);e.$on("onTodoPlayer",g),e.$on("$destroy",function(){f()}),function(){angular.element(C).on("click",d)}(),e.$watch("item",$)}}}])}(),function(){"use strict";angular.module("app").controller("ContactUsCtrl",["$scope","State","View","Api",function(e,t,n,r){var o=new t,a=new t,i={},l={},u={state:o,state2:a,googlemaps:i,mapbox:l};angular.extend(e,u),n.current().then(function(t){e.view=t,o.ready()},function(e){o.error(e)}),r.maps.markers().then(function(e){i.setMarkers(e),l.setMarkers(e)})}])}(),function(){"use strict";angular.module("app").controller("HomeCtrl",["$scope","State","View","Range",function(e,t,n,r){var o=new t;n.current().then(function(t){e.view=t,o.ready()},function(e){o.error(e)}),e.state=o}])}(),function(){"use strict";angular.module("app").controller("RootCtrl",["$scope","$timeout","$promise","Nav","Api","Range","Scrollable","AuthService","FacebookService","GoogleService",function(e,t,n,r,o,a,i,l,u,c){function s(e){return e.path}function m(e){return r.path(e.$nav.path),!1}function p(){u.getMe().then(function(e){console.log("FacebookService.getMe",e)},function(e){console.log("FacebookService.getMe.error",e)})}function d(){c.getMe().then(function(e){console.log("GoogleService.getMe",e)},function(e){console.log("GoogleService.getMe.error",e)})}var g=new r({onPath:s,onNav:m});o.navs.main().then(function(e){g.setItems(e)},function(e){console.log("RootCtrl.error",e)}),e.nav=g;var f=new Array(20).fill(null).map(function(e,t){return{id:t+1,name:"Item",items:new Array(3).fill(null).map(function(e,t){return{id:t+1,name:"Item",items:new Array(2).fill(null).map(function(e,t){return{id:t+1,name:"Item"}})}})}});e.items=f;var v=new i;e.scrollable=v,e.getFacebookMe=p,e.getGoogleMe=d;var y=a.Year(),h=a.Semester(),T=a.Trimester(),w=a.Quarter(),k=a.Month(),S=a.Week(),$=a.Day(),M={year:y,semester:h,trimester:T,quarter:w,month:k,week:S,day:$};e.ranges=M}])}(),function(){"use strict";angular.module("app").controller("SlugCtrl",["$scope","State","View",function(e,t,n){var r=new t;n.current().then(function(t){e.view=t,r.ready()},function(e){r.error(e)}),e.state=r}])}(),function(){"use strict";angular.module("app").controller("TestCtrl",["$scope","$filter","$http","State","Hash","DateTime","Range","LocalStorage",function(e,t,n,r,o,a,i,l){function u(){var e=s.slots,n=new o("key");angular.forEach(e,function(e){var r=e.day,a=t("isoWeek")(r.date,1),i=[a,r.activityId,r.taskId||0,r.locked?r.key:0],l=i.join("-"),u=n.once({key:l,customer:e.customer,project:e.project,activity:e.activity,task:e.task,hours:0,recordedHours:0,slots:new o("id"),player:{}});r.locked&&(u.day=r),u.slots.add(r),u.hours+=r.hours}),n.forward(),s.todos=n}var c=new r,s={},m={state:c,sources:s};angular.extend(e,m),n.get("api/test.json").then(function(e){var t=e.data;s.slots=t,u(),c.ready()}),e.$on("onTodoPause",function(e,t){var n=a.timeToQuarterHour(t.player.accumulatedTime);t.recordedHours+=n,t.player.update()});var p=i.Week();console.log(p.toString());var d=new o("key");p.eachDay(function(e){d.add(e)}),console.log("days",d)}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("environment",{http:{interceptors:[],withCredentials:!1},language:{code:"en",culture:"en_US",iso:"ENU",name:"English"},location:{hash:"!",html5:!1},plugins:{facebook:{appId:340008479796111,fields:"id,name,first_name,last_name,email,gender,picture,cover,link",scope:"public_profile, email",version:"v2.10"},google:{apiKey:"AIzaSyCn6O-j_8pipy-ErGxg4bM1juGesiyM28U",clientId:"1063539520533-7308vqmt92em6dv1v5q52fq2or36jk95.apps.googleusercontent.com"},googlemaps:{apiKey:"AIzaSyCn6O-j_8pipy-ErGxg4bM1juGesiyM28U",styles:"/googlemaps/applemapesque.json",options:{center:{lat:43.9023386,lng:12.8505094},zoom:4}},mapbox:{accessToken:"pk.eyJ1IjoiYWN0YXJpYW4iLCJhIjoiY2lqNWU3MnBzMDAyZndnbTM1cjMyd2N2MiJ9.CbuEGSvOAfIYggQv854pRQ",options:{center:[12.8505094,43.9023386],zoom:4},style:"mapbox://styles/actarian/cja82nadj07sn2rmty6n1n5pk",version:"v0.42.0"}}})}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("local",{paths:{api:"http://localhost:6001/api",app:"http://localhost:6001"},plugins:{facebook:{appId:340008479796111}}})}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("production",{paths:{api:"https://actarian.github.io/artisan/api",app:"https://actarian.github.io/artisan"},plugins:{facebook:{appId:0x8e099954c588}}})}])}(),function(){"use strict";angular.module("app").config(["environmentProvider",function(e){e.add("stage",{})}])}();
//# sourceMappingURL=app.min.js.map
